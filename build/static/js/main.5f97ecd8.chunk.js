(this.webpackJsonpproject_16=this.webpackJsonpproject_16||[]).push([[0],{29:function(e,t,n){e.exports=n(60)},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(0),c=n.n(a),u=n(27),o=n.n(u),s=n(11),l=n(1);n(34);var i=function(e){var t=e.currentUser,n=e.setCurrentUser,u=e.userList,o=Object(a.useState)(),l=Object(r.a)(o,2),i=l[0],m=l[1];Object(a.useEffect)((function(){m(u[0])}),[u]);return c.a.createElement("header",null,c.a.createElement("h1",null,"Welcome to UserHub"),c.a.createElement("form",{className:"user-select",onSubmit:function(e){e.preventDefault()}},t?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.b,{to:"/posts",activeClassName:"current"},"POSTS"),c.a.createElement(s.b,{to:"/todos",activeClassName:"current"},"TODOS"),c.a.createElement("button",{onClick:function(e){m(u[0]),localStorage.removeItem("currentUser"),n(null)}},"LOG OUT, ",t.username)):c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{onChange:function(e){var t=e.target.value,n=u.find((function(e){return e.id==t}));m(n)}},u.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.username)}))),c.a.createElement("button",{onClick:function(e){var t;t=i,localStorage.setItem("currentUser",JSON.stringify(t)),n(i)}},"LOG IN"))))},m=(n(40),function(e){var t=e.currentUser,n=e.userPosts;return c.a.createElement("div",{className:"user-posts"},c.a.createElement("h2",null,"Posts By ",t.username),n.map((function(e){var t=e.id,n=e.title,r=e.body;return c.a.createElement("div",{key:t,className:"post"},c.a.createElement("h3",null,n),c.a.createElement("p",null,r))})))}),p=(n(41),function(e){var t=e.currentUser,n=e.userTodos;return c.a.createElement("div",{className:"user-todos"},c.a.createElement("h2",null,"Todos By ",t.username),n.map((function(e){var t=e.id,n=e.title,r=e.completed;return c.a.createElement("div",{key:t,className:"todo"},c.a.createElement("h3",{style:{textDecoration:r?"line-through":"none"}},n))})))}),f=n(9),h=n.n(f),E=n(12),d=n(13),v=n.n(d),b="https://jsonplace-univclone.herokuapp.com";function O(){return(O=Object(E.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(b,"/users"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(){return(g=Object(E.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(b,"/users/").concat(t,"/posts"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(){return(j=Object(E.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(b,"/users/").concat(t,"/todos"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var y=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],u=t[1],o=Object(a.useState)(JSON.parse(localStorage.getItem("currentUser"))),f=Object(r.a)(o,2),h=f[0],E=f[1],d=Object(a.useState)([]),v=Object(r.a)(d,2),b=v[0],y=v[1],w=Object(a.useState)([]),S=Object(r.a)(w,2),U=S[0],k=S[1];return Object(a.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){u(e)})).catch((function(e){throw console.error(e),e}))}),[]),Object(a.useEffect)((function(){if(!h)return y([]),void k([]);(function(e){return g.apply(this,arguments)})(h.id).then((function(e){y(e)})).catch((function(e){throw console.error(e),e})),function(e){return j.apply(this,arguments)}(h.id).then((function(e){k(e)})).catch((function(e){throw console.error(e),e}))}),[h]),c.a.createElement(s.a,null,c.a.createElement("div",{id:"App"},c.a.createElement(i,{userList:n,currentUser:h,setCurrentUser:E}),h?c.a.createElement(c.a.Fragment,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/posts"},c.a.createElement(m,{userPosts:b,currentUser:h})),c.a.createElement(l.b,{path:"/todos"},c.a.createElement(p,{userTodos:U,currentUser:h})),c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}},"Welcome, ",h.username,"!")),c.a.createElement(l.a,{to:"/"}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,path:"/"},c.a.createElement("h2",{style:{padding:".5em"}},"Please log in, above.")),c.a.createElement(l.a,{to:"/"})))))};o.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.5f97ecd8.chunk.js.map